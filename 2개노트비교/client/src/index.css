@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: 0 0% 100%;
  --foreground: 240 10% 3.9%;
  --muted: 240 4.8% 95.9%;
  --muted-foreground: 240 3.8% 46.1%;
  --popover: 0 0% 100%;
  --popover-foreground: 240 10% 3.9%;
  --card: 0 0% 100%;
  --card-foreground: 240 10% 3.9%;
  --border: 240 5.9% 90%;
  --input: 240 5.9% 90%;
  --primary: 221 83% 53%;
  --primary-foreground: 210 40% 98%;
  --secondary: 152 76% 44%;
  --secondary-foreground: 240 5.9% 10%;
  --accent: 240 4.8% 95.9%;
  --accent-foreground: 240 5.9% 10%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 0 0% 98%;
  --ring: 240 5% 64.9%;
  --radius: 0.5rem;
}

.dark {
  --background: 240 10% 3.9%;
  --foreground: 0 0% 98%;
  --muted: 240 3.7% 15.9%;
  --muted-foreground: 240 5% 64.9%;
  --popover: 240 10% 3.9%;
  --popover-foreground: 0 0% 98%;
  --card: 240 10% 3.9%;
  --card-foreground: 0 0% 98%;
  --border: 240 3.7% 15.9%;
  --input: 240 3.7% 15.9%;
  --primary: 221 83% 53%;
  --primary-foreground: 210 40% 98%;
  --secondary: 152 76% 44%;
  --secondary-foreground: 0 0% 98%;
  --accent: 240 3.7% 15.9%;
  --accent-foreground: 0 0% 98%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 0 0% 98%;
  --ring: 240 4.9% 83.9%;
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply font-sans antialiased bg-neutral-100 text-foreground;
  }
}

.diff-added {
  @apply bg-blue-200 text-green-900 font-mono rounded-sm px-1;
  white-space: pre-wrap !important;
  tab-size: 2;
  font-family: 'Courier New', 'Monaco', 'Menlo', monospace !important;
  display: inline;
}

.diff-removed {
  @apply bg-orange-200 text-red-900 font-mono rounded-sm px-1;
  white-space: pre-wrap !important;
  tab-size: 2;
  font-family: 'Courier New', 'Monaco', 'Menlo', monospace !important;
  display: inline;
}

/* 인라인 diff 스타일 */
.inline-diff-added {
  @apply bg-purple-100 text-green-800 font-mono rounded-sm px-1 border-b-2 border-blue-600;
  white-space: pre-wrap !important;
  tab-size: 2;
  font-family: 'Courier New', 'Monaco', 'Menlo', monospace !important;
  display: inline;
}

.inline-diff-removed {
  @apply bg-red-100 text-red-800 font-mono line-through opacity-80 rounded-sm px-1;
  white-space: pre-wrap !important;
  tab-size: 2;
  font-family: 'Courier New', 'Monaco', 'Menlo', monospace !important;
  display: inline;
}

.side-by-side .editor-container {
  @apply w-full md:w-[calc(50%-0.5rem)];
}

.top-bottom .editor-container {
  @apply w-full;
}

@layer components {
  .editor {
    @apply min-h-[300px] font-mono leading-6 resize-y;
    white-space: pre-wrap !important;
    tab-size: 2;
    font-family: 'Courier New', 'Monaco', 'Menlo', monospace !important;
  }
  
  .diff-line {
    @apply font-mono;
    white-space: pre-wrap !important;
    tab-size: 2;
    font-family: 'Courier New', 'Monaco', 'Menlo', monospace !important;
    margin: 0;
    padding: 0;
    line-height: 1.5rem;
  }
  
  .line-numbers {
    @apply border-r border-neutral-200 min-h-[300px];
  }
  
  /* 코드 정렬 기능 관련 스타일 */
  .code-toolbar {
    @apply absolute z-50 shadow-lg bg-white rounded-md border border-neutral-200;
  }
  
  .align-code-btn {
    @apply h-8 w-8 rounded-md flex items-center justify-center text-neutral-700 hover:bg-neutral-100;
  }
  
  /* 등간격 코드 정렬을 위한 스타일 */
  .aligned-code {
    @apply font-mono whitespace-pre;
  }
  
  /* 코드 정렬 툴바 애니메이션 */
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* 페이지 단위 diff 스타일 */
  .line-same {
    @apply font-mono bg-white border-l-4 border-transparent pl-2 py-1;
    white-space: pre-wrap !important;
    tab-size: 2;
    font-family: 'Courier New', 'Monaco', 'Menlo', monospace !important;
    line-height: 1.5rem;
    display: flex;
    align-items: flex-start;
  }

  .line-removed {
    @apply font-mono bg-red-50 border-l-4 border-red-400 pl-2 py-1;
    white-space: pre-wrap !important;
    tab-size: 2;
    font-family: 'Courier New', 'Monaco', 'Menlo', monospace !important;
    line-height: 1.5rem;
    display: flex;
    align-items: flex-start;
  }

  .line-added {
    @apply font-mono bg-green-50 border-l-4 border-green-400 pl-2 py-1;
    white-space: pre-wrap !important;
    tab-size: 2;
    font-family: 'Courier New', 'Monaco', 'Menlo', monospace !important;
    line-height: 1.5rem;
    display: flex;
    align-items: flex-start;
  }

  .line-modified {
    @apply font-mono bg-yellow-50 border-l-4 border-yellow-400 pl-2 py-1;
    white-space: pre-wrap !important;
    tab-size: 2;
    font-family: 'Courier New', 'Monaco', 'Menlo', monospace !important;
    line-height: 1.5rem;
    display: flex;
    align-items: flex-start;
  }

  .line-number {
    @apply text-gray-500 text-xs mr-4 min-w-[50px] text-right select-none flex-shrink-0;
    font-family: 'Courier New', 'Monaco', 'Menlo', monospace !important;
  }

  .line-content {
    @apply flex-1;
    font-family: 'Courier New', 'Monaco', 'Menlo', monospace !important;
    white-space: pre-wrap !important;
    tab-size: 2;
  }
}
